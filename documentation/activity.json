{
    "info": {
        "name": "Activity API",
        "description": "Collection pour tester l'API des activités CRM",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:8080/api/activities",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "1. Créer une activité",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"type\": \"MEETING\",\n  \"title\": \"Réunion de présentation\",\n  \"description\": \"Présentation de nos services à un nouveau prospect\",\n  \"date\": \"2025-06-15T14:00:00\",\n  \"duration\": 60,\n  \"company\": {\n    \"id\": 1\n  },\n  \"contact\": {\n    \"id\": 1\n  },\n  \"createdByUserId\": 1\n}"
                },
                "url": {
                    "raw": "{{baseUrl}}",
                    "host": [
                        "{{baseUrl}}"
                    ]
                }
            }
        },
        {
            "name": "2. Récupérer toutes les activités (paginé)",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}?page=0&size=10&sortBy=date&sortDir=desc",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "query": [
                        {
                            "key": "page",
                            "value": "0"
                        },
                        {
                            "key": "size",
                            "value": "10"
                        },
                        {
                            "key": "sortBy",
                            "value": "date"
                        },
                        {
                            "key": "sortDir",
                            "value": "desc"
                        }
                    ]
                }
            }
        },
        {
            "name": "3. Récupérer une activité par ID",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/1",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "1"
                    ]
                }
            }
        },
        {
            "name": "4. Récupérer les activités par entreprise",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/company/1",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "company",
                        "1"
                    ]
                }
            }
        },
        {
            "name": "5. Récupérer les activités par contact",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/contact/1",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "contact",
                        "1"
                    ]
                }
            }
        },
        {
            "name": "6. Récupérer les activités par type",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/type/MEETING",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "type",
                        "MEETING"
                    ]
                }
            }
        },
        {
            "name": "7. Récupérer les activités par utilisateur",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/user/1",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "user",
                        "1"
                    ]
                }
            }
        },
        {
            "name": "8. Récupérer les activités par plage de dates",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/date-range?startDate=2025-06-01T00:00:00&endDate=2025-06-30T23:59:59",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "date-range"
                    ],
                    "query": [
                        {
                            "key": "startDate",
                            "value": "2025-06-01T00:00:00"
                        },
                        {
                            "key": "endDate",
                            "value": "2025-06-30T23:59:59"
                        }
                    ]
                }
            }
        },
        {
            "name": "9. Mettre à jour une activité",
            "request": {
                "method": "PUT",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"type\": \"CALL\",\n  \"title\": \"Appel de suivi\",\n  \"description\": \"Appel téléphonique pour faire le suivi de la réunion\",\n  \"date\": \"2025-06-16T10:00:00\",\n  \"duration\": 30,\n  \"company\": {\n    \"id\": 1\n  },\n  \"contact\": {\n    \"id\": 1\n  },\n  \"createdByUserId\": 1\n}"
                },
                "url": {
                    "raw": "{{baseUrl}}/1",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "1"
                    ]
                }
            }
        },
        {
            "name": "10. Supprimer une activité",
            "request": {
                "method": "DELETE",
                "url": {
                    "raw": "{{baseUrl}}/1",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "1"
                    ]
                }
            }
        },
        {
            "name": "11. Statistiques par entreprise",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/stats/company/1",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "stats",
                        "company",
                        "1"
                    ]
                }
            }
        },
        {
            "name": "12. Statistiques par type",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/stats/type/MEETING",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "stats",
                        "type",
                        "MEETING"
                    ]
                }
            }
        },
        {
            "name": "13. Récupérer tous les types d'activités",
            "request": {
                "method": "GET",
                "url": {
                    "raw": "{{baseUrl}}/types",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "types"
                    ]
                }
            }
        },
        {
            "name": "14. Créer une activité EMAIL",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"type\": \"EMAIL\",\n  \"title\": \"Email de proposition commerciale\",\n  \"description\": \"Envoi d'une proposition commerciale détaillée\",\n  \"date\": \"2025-06-10T09:30:00\",\n  \"duration\": 15,\n  \"company\": {\n    \"id\": 2\n  },\n  \"contact\": {\n    \"id\": 2\n  },\n  \"createdByUserId\": 1\n}"
                },
                "url": {
                    "raw": "{{baseUrl}}",
                    "host": [
                        "{{baseUrl}}"
                    ]
                }
            }
        },
        {
            "name": "15. Créer une activité NOTE",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"type\": \"NOTE\",\n  \"title\": \"Note importante sur le client\",\n  \"description\": \"Le client souhaite une solution personnalisée avec intégration API\",\n  \"date\": \"2025-06-09T16:45:00\",\n  \"duration\": 5,\n  \"company\": {\n    \"id\": 1\n  },\n  \"createdByUserId\": 1\n}"
                },
                "url": {
                    "raw": "{{baseUrl}}",
                    "host": [
                        "{{baseUrl}}"
                    ]
                }
            }
        },
        {
            "name": "16. Créer une activité CALL",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"type\": \"CALL\",\n  \"title\": \"Appel de prospection\",\n  \"description\": \"Premier contact téléphonique avec un nouveau prospect\",\n  \"date\": \"2025-06-11T11:00:00\",\n  \"duration\": 20,\n  \"company\": {\n    \"id\": 3\n  },\n  \"contact\": {\n    \"id\": 3\n  },\n  \"createdByUserId\": 2\n}"
                },
                "url": {
                    "raw": "{{baseUrl}}",
                    "host": [
                        "{{baseUrl}}"
                    ]
                }
            }
        }
    ]
}